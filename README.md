# Robo-spy-pigeon-phone
## May 16, 2024
Hello, welcome to my Robot-spy-pigeon-phone-assistant-project! (I'm bad at names I'll fix it later)
This is an idea I've had in my head for ages, and I really want to document one of my procrastination projects properly, so I'm just going to put everything I do onto this github, then procrastinate on my procrastination by fixing it later. 

So, robot phones. I think I was unreasonably influenced by Amy McCulloch's Jinxed series, which is a pretty good YA series in its own right. Basically the premise is that everyone has an animal-looking robot that does everything their phone used to do, and also is like a pet and friend and assistant, and idk I just think that's pretty cool. I would just make that but it'd kinda feel like plagiarism or something, which brings me to my second influence: Birds aren't real. I assume everyone has heard of this pseudo conspiracy, which is just hilarious and very much something my generation would make up in response to actual conspiracy theorists. Essentially, all birds were hunted down and killed by the US government/CIA in the 50s and 60s and replaced with spy drones that are tracking us, ooh scary. Finally: ornithopters. You know drones? They're like that but cooler, because they flap their wings. I'm not an aeronautical engineer (I'm just a highschooler actually), but I do have a very hyper plane loving little brother, so there's that

With these ideas in mind I have a bunch of features I want to implement at some point but may never, best explained through a series of tiny sketches:

![WIN_20240516_12_24_25_Scan](https://github.com/boatartist/Robo-spy-pigeon-phone/assets/78235705/e0a665ed-67cb-4014-8c68-2e687821655a)
![WIN_20240516_12_25_56_Scan](https://github.com/boatartist/Robo-spy-pigeon-phone/assets/78235705/6f2c601f-394f-4fe3-896c-14ff19c58ae7)

Look at the little cyborg pigeon!!!‚ù§Ô∏è‚ù§Ô∏è‚ù§Ô∏è‚ù§Ô∏è I'm so proud of my non-existent drawing skills. If you can't read my handwriting (valid, I can't either), here's some of the highlights:

- cute little perch
- holds a little pencil
- camera (or is it a death laser?)
- touchscreen
- eyes follow you around
- full 360¬∞ vision, head rotates
- foot clamps/jointed toes (taking inspiration from nerdforge's prosthetic finger but it defaults to contracted so it doesn't fall off the perch)
- Bits that move (perched edition): feet lift and flap, head rotates = 3 servos, optional bonus: balance body by tilting
- also some sound effects/comments ie. eeeee, creeeeak, ring ring..., unknown phone number...

## May 28, 2024
I made a super cute lil cardboard/electrical tape model, feeling very professional
![WIN_20240528_18_45_05_Pro](https://github.com/boatartist/Robo-spy-pigeon-phone/assets/78235705/cc6d8b38-ed80-439f-9cb3-b49d9c9466aa)
And if the ultra-high quality school laptop night photo didn't sell it to you, then I used an AAA battery as a stylus to sketch over it üôÉ
![image](https://github.com/boatartist/Robo-spy-pigeon-phone/assets/78235705/7aeb6054-db9a-41c6-a717-e6f5397237d4)

I also found some old(er) sketches and plans from when I wanted to make a cockatoo, so might as well put those in, there's no one reading this anyway lol
![image](https://github.com/boatartist/Robo-spy-pigeon-phone/assets/78235705/08a2796a-752b-45f6-a16d-ad7dbbedd2ad)
<!-- ![WIN_20240528_20_20_27_Scan](https://github.com/boatartist/Robo-spy-pigeon-phone/assets/78235705/01198416-49a5-4d13-a8f2-95e78d5ec8a3)
I probably shouldn't include that last one actually, it's kinda ruining the sci-fi super villain aesthetic I keep imagining. I don't wanna be strutting around with my cool pirate parrot pigeon phone on my shoulder acting all fancy and then get jump-scared by my 16y/o late night ramblings, but whatever. -->

## June 02, 2024 (I think, this is a retrospective post)
I tried to make a bird shape in solidworks and it went disastrously wrong. Luckily my dad is a literal designer so he showed me how to do it and mine are still terrible but i got some ideas about how to do it, later. This was the dumpy model my dad whipped up in like 10 minutes, I think mine are right at the bottom of the windows rubbish bin.
![image](https://github.com/boatartist/Robo-spy-pigeon-phone/assets/78235705/622d17b7-626a-4f9a-9f2c-d02b641bd462)
![image](https://github.com/boatartist/Robo-spy-pigeon-phone/assets/78235705/8e6f3bed-820f-4a98-b4fb-109ceb701017)

## June 09, 2024
~~Feet! (No not like that stop being dirty minded).~~ (This joke has been redacted because everyone keeps judging me (valid ig)). I figured this was as good a place as any to start my project, so I've spent this weekend wasting filament and masking tape on prototypes, until I got to a design that I think will do for now. My original concept was inspired by prosthetic finger designs (Shout out to [this video from Nerdforge](https://www.youtube.com/watch?v=ZVqa7j6jG0Q) for the inspiration), which contract when a string is yanked and then have a bit of elastic which defaults them to open again. Obviously a bird clinging to a perch for dear life has quite the opposite motivations, so my design had a bit of string on the outside which gets pulled by a servo to open the claws and then a piece of elastic pulling them closed again, as can be seen in this low-res night photo.
![WIN_20240609_19_17_24_Pro](https://github.com/boatartist/Robo-spy-pigeon-phone/assets/78235705/24ccbe44-e2e9-46a6-ad14-0b6d771a9bf7)
This design seemed great on paper but left more than a little to be desired in real life, so I created a new design featuring the coolest thing I know nothing about: gears. After a loooong time in solidworks I finally got something that kind of works, so my current foot design looks like this:
![WIN_20240609_19_19_10_Pro](https://github.com/boatartist/Robo-spy-pigeon-phone/assets/78235705/03e079a5-b7f3-41b0-9a06-832dcd0e71f8)
![WIN_20240609_19_18_48_Pro](https://github.com/boatartist/Robo-spy-pigeon-phone/assets/78235705/92ea8066-b827-4297-b5eb-cd4bbecca48f)
I'll put the current cad files up if there's anyone interested (that's a little inside joke because there's noone here at all lol)

## June 16, 2024
I figured out how to get blender on my school laptop and I've finally got a terrible low-poly model which I'm going to polish up in Solidworks (stl file up now)

![image](https://github.com/boatartist/Robo-spy-pigeon-phone/assets/78235705/f196effa-0f99-410b-8606-b46fe0e7c1e1)

This is a photo of a tiny 3D print I did of it, just for fun, I think it looks pretty good.
![WIN_20240616_14_55_46_Pro](https://github.com/boatartist/Robo-spy-pigeon-phone/assets/78235705/c3a70914-966a-4a60-aeb3-b3e95454be29)
I also realised that I haven't put up the fancy drawings I did, oops, here they are now.
![WIN_20240616_11_46_52_Pro](https://github.com/boatartist/Robo-spy-pigeon-phone/assets/78235705/6bdf42ea-ce33-4253-97e3-869f63633a92)
Umm, what else? Oh yes, I bought a [usb modem](https://www.telstra.com.au/internet/mobile-broadband/prepaid/4gx-mf833v-usb) to use instead of the raspberry pi hat I had for my phone project, which unfortunately broke. Hoping that having an actual professional thing will make this a bit less dodgy. 
I'm also going to buy [a little round touchscreen](https://core-electronics.com.au/128inch-round-lcd-display-module-with-touch-240240-pixels.html), which I'm really excited about, hopefully we start getting some actual progress soon!

## June 18, 2024
Welcome to the total of 2 people I shared the link to this with, here's the things I did today and at the end of the weekend.
1. I chopped the blender model in half and hollowed out the head so I could put a raspberry pi camera in there, the stl can be found on this github but it's not a final product by any means.
![image](https://github.com/boatartist/Robo-spy-pigeon-phone/assets/78235705/e5be9bc5-a6cf-4575-9906-b623f8420ea4)
![image](https://github.com/boatartist/Robo-spy-pigeon-phone/assets/78235705/1703c0cc-184d-49d8-abdc-a2f13d4222ed)

2. I bought a cheap usb cable and a usb socket which I soldered together so that the modem doesn't have to stick straight out of the side of the raspberry pi, instead I can attach it via the dodgy cable and position it around the side. I would advise anyone thinking of copying this project to invest in an official cable ([like this one maybe](https://www.amazon.com.au/Degree-Angled-Female-Extension-Adapter/dp/B015H0KUEI?th=1)), I melted quite a lot of plastic and had to restart several times from fragile cables breaking.
![WIN_20240618_19_49_22_Pro](https://github.com/boatartist/Robo-spy-pigeon-phone/assets/78235705/9d7dc34b-4597-4e6e-bffa-2d3c0c68b07e)
![WIN_20240618_19_50_09_Pro](https://github.com/boatartist/Robo-spy-pigeon-phone/assets/78235705/d0bb3d2a-c7b1-47a7-80f5-67778a302ffb)

## June 25, 2024
I'm away from the Raspberry Pi rn so I can't test this code, but I've been researching text-to-speech (tts) modules that I can use, because a big feature of the bird is that it's going to give audio notifications and users will be able to converse with the robot instead of just using the screen.
![WIN_20240709_15_02_11_Scan](https://github.com/boatartist/Robo-spy-pigeon-phone/assets/78235705/8bc84b66-6336-4831-8bcd-da5deb878636)
After much consideration, I've decided to use the Google tts API (gTTS), following [this Geeks for Geeks article](https://www.geeksforgeeks.org/convert-text-speech-python/) because I'm lazy and it looks easy, but also it's really well documented and I can also use the google speech-to-text API so it will look symmetrical in my brain. According to the tutorial, this is the python code I'm going to need:
```
from gtts import gTTS
import os
tts = gTTS(text='Hello World', lang='en', slow=False)
tts.save('audio_file.mp3')
os.system('start audio_file.mp3')
```

## June 27, 2024
I got the gTTS module working, and I'm using the pygame mixer to play audio through the audio jack. I found an old pair of headphones and a speaker from a singing birthday card which I brutally massacred to make this speaker setup I can plug into the audio jack. I might replace the speaker because it's still a little too quiet, but it works for now. 

![image](https://github.com/boatartist/Robo-spy-pigeon-phone/assets/78235705/1789b539-49b2-42f3-851f-8c67c5073d02)

In the past I've tried to find a ready-made speaker which would do this for me, but most speakers seem to be the massive round bluetooth speakers, so anyone copying this project I would advise to find a cheap headphone jack part and a small speaker component, that seems like the best option. 
I also improved the head cad file so that the camera fits better and there's also a hole in the other eye for a 5mm led, which I think is pretty cool. I'll upload the new stl alongside the old one, they're pretty similar at this stage. I think the next step is going to be getting my hands on that round display, and also looking at how I'm going to get the microphone working, stay tuned!

## June 30, 2024
Oops, turns out I did not the gTTS working, it steals its tts from the interwebs, and mine is a bit sketchy rn, so I'm settling for a worse module that's fully offline, [pyttsx3](https://pyttsx3.readthedocs.io/en/latest/engine.html) (I did try to install it's updated sibling pyttsx4 but I'm not bothered to install the module on a computer with internet and then manually install it on the raspberry pi, so we're settling for the one I managed to get). The voices are terrible, but at least it talks and I haven't had any major issues. I also don't need to use the pygame mixer to play my sounds, so that's nice. This is my current code: 
```import pyttsx3
engine = pyttsx3.init()
# reducing the speed of the voice from 200 to 100
engine.setProperty('rate', 100)
# I think the english voice is the best, but there's code in the documentation to loop through every voice and test it if you want to find a better one
engine.setProperty('voice', 'english')
#say the thing
engine.say('Hello World, I am pigeon')
#I think the say() method preloads the audio to the engine, and then this method actually runs it 
engine.runAndWait()
```
Oh and here's a photo of the new head, it's still goofy, but I kinda love it.
![image](https://github.com/boatartist/Robo-spy-pigeon-phone/assets/78235705/f94d057c-6710-43c3-bc58-51f36dc41025)

## July 2, 2024
A quick moment of silent for my realisation that the raspberry pi audio jack does not support the microphone, so I apparently wasted my money and time buying [a new 4-poled plug](https://www.jaycar.com.au/3-5mm-gold-plug-4-pole/p/PP0138?pos=6&queryId=201fd0d2d0470ca55455e4e27b61be16&sort=relevance&searchText=4%20pole#), soldering 4 wires to it and trying to connect the speaker and the microphone to it, ouch. At least I did realise how I could amplify the volume of the speaker using a transistor so now we have this snazzy and compact little set-up on the back of the speaker:

![image](https://github.com/boatartist/Robo-spy-pigeon-phone/assets/78235705/7b3f0795-3d35-42ad-9275-6d1ea9ed24b0)

And since I'm overcompensating for my laziness and refusal to make wiring diagrams for my actual school software projects, here's one I whipped up in two minutes:

![image](https://github.com/boatartist/Robo-spy-pigeon-phone/assets/78235705/4adc555f-0f90-4180-ad04-e3ea26794a1f)

So it's a bit sad that I did all that for nothing, but at least I have a good result. For now, I'm using a big flat usb mic I bought for a past project that didn't work out, but it's better than nothing until I figure out how to make my own, more compact version with the tiny microphone I bought. Oh and if anyone ever copies this project, [you can get audio output from the gpio pins](https://wiki.batocera.org/audio_via_gpio_rpi_only), which I've been searching for for ages and only discovered after hacking together my solution :( Anyway we live and we learn ig. 

## July 3, 2024
‚ù§Ô∏è [http://apachepersonal.miun.se/~muhimr/index_files/Tutorial_4g_modem_with_Raspberry_PI_B_plus.pdf](http://apachepersonal.miun.se/~muhimr/index_files/Tutorial_4g_modem_with_Raspberry_PI_B_plus.pdf)

## July 4, 2024
I was pretty rushed when I posted that article yesterday, I hadn't done much and I just wanted to share the brilliant pdf which unlocked my ability to actually use the usb modem I've bought. So basically what I learnt is that when you go to [192.168.0.1](192.168.0.1) on any device, it takes you to your modem's page, where you can see different diagnostics, change settings and even (if you have a sim-based modem like mine) send and receive text messages. Amazing! This is the best news I've had in ever, because I thought I was going to have to hack together a solution, bypass a billion safeguards and do all sorts of wizardry to even get internet working with the modem, let alone sms on it, but no, I just need to figure out how to steal data from that webpage, praise the lord, god is good, I'm converted, all that jazz‚õ™‚úùÔ∏è

... Actually, maybe not, looks like the website is kind of janky and it doesn't want me to steal from it, or maybe I'm just bad at requests and Beautiful Soup, we'll see. Oh side note I finally ordered the touchscreen watch display yesterday, so it should be here in a few days, and once it arrives I'll have all the components to start building the body (I think), stay tuned!

EDIT: I must apologise to everyone I have mislead in my claims that I was using a singing card's speaker, that **was** the speaker I experimented with, the one I'm currently using comes from a build-a-bear. I found the official product names for both (the singing card speaker is more or less [COM-15350](https://www.melopero.com/en/shop/sensors/audio/thinspeaker0dot5w/) and the build-a-bear speaker is probably [13ry328qf203](https://www.amazon.com.au/Aexit-Electroacoustic-External-13ry328qf203-Loudspeaker/dp/B07BDPJTB2)), as they seem like good options until I find a real product, but I will be using the measurements for the build-a-bear speaker in my CAD modeling.

## July 7, 2024
I was fooling around with my tts function and the audio randomly stopped working, which prompted me to have a small mental breakdown and also transfer my speaker to the GPIO pins, adding 
```dtoverlay=pwm,pin=13,func=4``` to the bottom of `/boot/config.txt`. In the end the actual problem was that raspi-config sometimes likes to have little menty-B's and change pretty standard settings, so I had to go into the system settings and [change the output back to jack](https://www.raspberrypi.com/documentation/computers/configuration.html#audio-2:~:text=passphrase%22%200%200-,Audio,-Specify%20the%20audio). Well that's good to know I guess, and it looks pretty cool and saves needing external batteries, so I'm (kinda) glad it happened. 

![image](https://github.com/boatartist/Robo-spy-pigeon-phone/assets/78235705/21720103-b9aa-44c0-8042-e7db532cf4d5)

In other news I spent way too long being bad at try-except statements and kept getting confused when raising an error caused an error to show up, but in the end I made a quick function to check for internet connection, which will be useful to switch between voices (gTTS is sooooo much better than pyttsx3, but it needs interwebs), or just to prevent errors when looking for texts or other web-based things. 
```import requests
try:
  req = requests.get('https://github.com/boatartist') #shameless self-promo
except:
  print('Uh oh no interwebs')
  #do something else here
```
Lastly, I was annotating and collating notes from the demo python code for my round display which is coming tmw (probably), I might put up those notes in future.

## July 8, 2024
EEEEEEEEEEEEEEE!!!! I just got the display and it's so cute! I'm obsessed. It is very good and once you figure out the code it's pretty intuitive, I'm going to put up a guide at some point, mostly to remind myself, but for now here's how it (more or less) works, based on [the python example](https://files.waveshare.com/upload/b/bb/1.28inch_Touch_LCD_Demo.zip) from [the official wiki](https://www.waveshare.com/wiki/1.28inch_Touch_LCD#Raspberry_Pi_User_Manual) (thank you Waveshare ily <3):

(nvm I moved it to a file of its own because I kept coming up with improvements, check out the code example in `code/round_display_demo.py`)

## July 9, 2024
I *think* that I've finally gotten to the bottom of the stupid audio error, which was based on the raspberry pi not defaulting to the right output, after completely overhauling my entire tts setup haha. In trying to fix my setup, I've moved to a different tts module (again), which is espeak. Actually I didn't really change anything, I'm just using the command line interface rather than the pretty library setup to run it for me. What I did was identify the sound card and device number of my speaker by running `aplay -l` in the command line, and then to output text I give the command line this: `espeak "Some text" -s 120 -ven+f3 --stdout | aplay -D hw:2,0`, which is a lot of fancy symbols for, "espeak please say 'some text' at 120 wpm with the third english female voice" followed by "aplay please play this out of sound card 2 device 0". Oh yeah I found more voices which is nice, I can even make it ‚ú®whisper‚ú® ooooooh. So that's fun. 

In other news my round display is working great, I made a class for it so I didn't have separate touch, display, image and draw objects, I'll post that in the code folder. At the moment I'm working on making a menu that shouts at you but doesn't keep shouting (I don't know why it won't shut up ü´†), but at least we're going somewhere. I also found that there are lots of pretty colours, because PIL uses the html colour list, which is very expansive and a great opportunity for me to demonstrate my lack of graphic design skills, yay!
Here are some photos from my experimentation:
![image](https://github.com/boatartist/Robo-spy-pigeon-phone/assets/78235705/c50826b6-b19e-4c51-af32-56459de858f7)
![image](https://github.com/boatartist/Robo-spy-pigeon-phone/assets/78235705/7bf2ec96-256e-4c73-8f3f-868e46f6befe)
![image](https://github.com/boatartist/Robo-spy-pigeon-phone/assets/78235705/edaaab23-14eb-4984-afe0-a2a5233fe968)
